{"remainingRequest":"/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/src/components/content/JobDetails.vue?vue&type=style&index=0&id=65d9d86a&scoped=true&lang=css&","dependencies":[{"path":"/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/src/components/content/JobDetails.vue","mtime":1572795122000},{"path":"/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n*{\n    color: #393d44;\n    font-size: 14px;\n    line-height: 20px;\n}\n.bg-light{\n    background-image: linear-gradient(180deg,#fafafe,#fafafe);\n}\n.section-jobs{\n    margin: 0 2rem;\n    padding: 6rem 0 1rem;\n}\n.icon img{\n    height: 15px;\n    width: 15px;\n    font-family: 'Neue Haas Text Roman',sans-serif;\n    font-size: 1rem;\n    line-height: 1.5rem;\n    color:#393d44;\n}\n\n.title strong{\n    margin-left: auto;\n    margin-right:auto;\n    font-size: 2.5rem;\n}\nh2,h3{\n    color:#162138;    \n}\n\n.careers{\n    width: 100%;\n    max-width: 750px;\n    display: block;\n    margin-top:6.8rem;\n    margin-left: auto;\n    margin-right: auto;\n}\n.apply{\n    width: 100%;\n    max-width: 750px;\n    display: block;\n    margin-left: auto;\n    margin-right: auto;\n    padding-bottom: 2rem;\n}\n.namejob{\n    margin: 0;\n    font-size: 1.2rem;  \n}\n.positionjob{\n     color:#a49dc0;\n}\n.item{\n    background-image: linear-gradient(180deg,#fff,#fff);\n    margin-bottom: 0.8rem;\n    padding: 1.8rem;\n    border-radius: 4px;\n    box-shadow: 0 4px 10px 0 rgba(169,165,182,.12), 0 12px 30px 0 rgba(169,168,186,.12);\n}\n.applynow{\n    border:2px solid #40c4ff;\n    border-radius: 2px;\n    color: #40c4ff;\n    transition: all 150ms cubic-bezier(.55,.085,.68,.53);\n    padding: 0.4rem 2rem 0.55rem;\n}\n.applynow:hover{\n    color:white;\n    text-decoration: none;\n    background: #40c4ff;\n    cursor: pointer;\n}\n\na{\n    text-decoration: none;\n}\n.details h3{\n    font-size: 1.3rem;\n    color:darkblue;\n}\n.style_input{\n  border: 1px solid rgba(0,0,0,.54);\n  border-radius: 5px;\n  padding:0.25rem;\n}\n.width-100{\n  width: 100%;\n}\n.icon img{\n    height:1rem;\n    width:1rem;\n}\n",{"version":3,"sources":["JobDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"JobDetails.vue","sourceRoot":"src/components/content","sourcesContent":["<template>\n<div class=\"pt-5\" v-if=\"jobs\">\n    <div class=\"bg-light\">\n        <div class=\"section-jobs\">\n            <div class=\"title d-flex\">\n                <strong>{{jobs.name}}</strong>         \n            </div>\n            <div> \n                <div class=\"careers\">\n                  <div class=\"d-flex\">\n                    <p class=\"icon mr-3\"><img src=\"@/assets/images/gear.svg\" /> <span class=\"pl-1\">{{jobs.type}}</span></p>\n                    <p class=\"icon mx-3\"><img src=\"@/assets/images/placeholder.svg\" /> <span class=\"pl-1\">{{jobs.location}}</span></p>\n                    <p class=\"icon mx-3\"><img src=\"@/assets/images/calendar.svg\" /> <span class=\"pl-1\">{{jobs.createdAt.slice(8, 10)}} - {{jobs.createdAt.slice(5, 7)}} - {{jobs.createdAt.slice(0, 4)}}</span></p>\n                  </div>\n                    <div class=\"details\">\n                        <div>\n                            <h3>Mô Tả Công Việc</h3>\n                            <div v-html=\"jobdetails.description\"></div>\n                        </div>\n                        <div>\n                            <h3>Lợi Ích</h3>\n                            <div v-html=\"jobdetails.benefit\"></div>\n                        </div>\n                        <div>\n                            <h3>Yêu Cầu</h3>\n                            <div v-html=\"jobdetails.requirement\"></div>\n                        </div>\n                    </div> \n                </div>\n            </div>\n\n        </div>\n        <div class=\"apply d-flex\" >\n            <div v-b-modal.modal-apply class=\"applynow\"> Apply now </div>\n        </div>\n        <b-modal id=\"modal-apply\" ref=\"modal-apply\" title=\"Mẫu Ứng Tuyển\">\n            <div>\n                <div class=\"my-2 d-flex\">\n                    <p class=\"col-sm-3 title_editor\">Họ Và Tên:</p>\n                    <span class=\"col-sm-9\">\n                        <input type=\"text\"  v-model=\"name_user_apply\" class=\"width-100 style_input\">\n                    </span>\n                </div>\n                <div class=\"my-2 d-flex\">\n                    <p class=\"col-sm-3 title_editor\">Email:</p>\n                    <span class=\"col-sm-9\">\n                        <input type=\"text\" placeholder=\"Nhập email của bạn\"  v-model=\"email_user_apply\" class=\"width-100 style_input\">\n                    </span>\n                </div>\n                <div class=\"my-2 d-flex\">\n                    <p class=\"col-sm-3 title_editor\">SĐT:</p>\n                    <span class=\"col-sm-9\">\n                        <input type=\"number\"  v-model=\"phone_user_apply\" class=\"width-100 style_input\">\n                    </span>\n                </div>\n                <div class=\"my-2 d-flex\">\n                    <p class=\"col-sm-3 title_editor\">Ý Kiến</p>\n                    <span class=\"col-sm-9\">\n                        <textarea style_input  rows=\"5\" placeholder=\"Nêu nhiều ví dụ cụ thể để làm hồ sơ ứng tuyển của bạn thuyết phục hơn...\" v-model=\"comments_user_apply\" class=\"width-100 style_input\"></textarea>\n                    </span>\n                </div>\n                <div class=\"my-2 d-flex\">\n                    <p class=\"col-sm-3 title_editor\">CV</p>\n                    <span class=\"col-sm-9\">\n                        <b-form-file\n                            v-model=\"file\"\n                            accept=\"image/*,application/pdf\"\n                            @change=\"onFileChange\"\n                            :state=\"Boolean(file)\"\n                            placeholder=\"Chọn File Hoặc Kéo Thả Ở Đây...\"\n                            drop-placeholder=\"Kéo Thả Ở Đây...\"\n                        >\n                            <div class=\"mt-3\">File Đã Chọn: {{file ? file.name : ''}}</div>\n                        </b-form-file>\n                    </span>\n                </div>\n\n            </div>\n            <template v-slot:modal-footer>\n                <div class=\"w-100\">\n                <b-button\n                    variant=\"secondary\"\n                    size=\"sm\"\n                    class=\"float-left text-white\"\n                    @click=\"CloseModalApply\"\n                >\n                    Đóng\n                </b-button>\n                <b-button\n                    variant=\"warning\"\n                    size=\"sm\"\n                    class=\"float-right icon text-white\"\n                    @click=\"checkform('modify')\"\n                >\n                    <img src=\"@/assets/images/send.svg\" /> Ứng Tuyển\n                </b-button>\n                </div>\n            </template>\n        </b-modal>\n    </div>\n</div>\n</template>\n\n<script>\nimport { mapGetters} from \"vuex\";\nimport AdminService from '@/services/AdminService'\nimport GeneralService from '@/services/GeneralService'\nimport {db, storage} from '../firebaseInit'\nimport firebase from 'firebase/app'\nexport default {\n    data(){\n        return {\n            jobs:null,\n            jobdetails:null,\n            route:'',\n            name_user_apply:'',\n            comments_user_apply:'',\n            email_user_apply:'',\n            phone_user_apply:'',\n            file:'',\n            url:''\n        }\n    },\n    methods:{\n        validEmail: function (email) {\n            var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n            return re.test(email);\n        },\n        onFileChange(e) {\n            this.file = e.target.files[0];\n        },\n        resetApply(){\n            this.name_user_apply='';\n            this.comments_user_apply='';\n            this.email_user_apply='';\n            this.phone_user_apply='';\n            this.file='';        \n            this.$refs['modal-apply'].hide()\n\n        },\n        async addCV(){\n            const idjob = this.jobs.id || to.params.id;\n            try {\n                const response = await GeneralService.applyjob({\n                    IdJob: idjob,\n                    email: this.email_user_apply,\n                    name: this.name_user_apply,\n                    phone:this.phone_user_apply,\n                    comments:this.comments_user_apply,\n                })\n\n                var storageRef = firebase.storage().ref(`JOBCV/${idjob}/${response.data.jobcv.id}/`).put(this.file);\n\t\t\t\t\tstorageRef.on('state_changed', (snapshot) => {\n\t\t\t\t\t\t}, (error) => {\n\t\t\t\t\t\t}, () => {\n\t\t\t\t\t\tstorageRef.snapshot.ref.getDownloadURL().then((downloadURL) => {\n                  });\n\t\t\t\t});\t\n                this.resetApply();\n                this.$toasted.show('Bạn đã ứng tuyển thành công !<br> chúng tôi sẽ liên hệ bn trong thời gian ngắn nhất.', { \n                    theme: \"toasted-primary\",\n                    position: \"bottom-right\",\n                    duration : 5000\n                });\n                \n            }catch (error) {\n                this.$toasted.show(`${error.response.data.error}`, { \n                    theme: \"toasted-primary\", \n                    position: \"bottom-right\", \n                    duration : 5000\n                });\n            }\n        },\n        checkform(){\n            if(!this.name_user_apply){\n                this.$toasted.show('Vui Lòng Nhập Họ Và Tên !!!', { \n                    theme: \"toasted-primary\",\n                    position: \"bottom-center\", \n                    duration : 4000\n                });\n            }\n            else if(!this.email_user_apply ){\n                this.$toasted.show('Vui Lòng Nhập Địa Chỉ Email !!!', { \n                    theme: \"toasted-primary\",\n                    position: \"bottom-center\", \n                    duration : 4000\n                });\n            }else if(!this.validEmail(this.email_user_apply)) {\n                this.$toasted.show('Vui Lòng Nhập Đúng Định Dạng Địa Chỉ Email !!!', { \n                    theme: \"toasted-primary\",\n                    position: \"bottom-center\", \n                    duration : 4000\n                });\n            }            \n            else if(!this.phone_user_apply ){\n                this.$toasted.show('Vui Lòng Nhập Số Điện Thoại !!!', { \n                    theme: \"toasted-primary\",\n                    position: \"bottom-center\", \n                    duration : 4000\n                });\n            }\n            else if(!this.file){\n                this.$toasted.show('Vui Lòng Bổ Sung File CV !!!', { \n                    theme: \"toasted-primary\",\n                    position: \"bottom-center\", \n                    duration : 4000\n                });\n            }else{\n                this.addCV();\n            }\n        },\n        CloseModalApply(){\n            this.$refs['modal-apply'].hide();\n            \n        }\n    },\n    watch: {\n        $route(to, from) {\n            const response = AdminService.getJobById({id:to.params.id})\n            this.jobs = response.data.job\n            this.jobdetails = response.data.jobdetails\n\n            // console.log(this.jobs.job)\n            // console.log(this.jobs.jobdetails)\n      }\n    },\n    async mounted(){\n        this.route = this.$route.params.id;\n        const response = await AdminService.getJobById({id:this.route})\n        this.jobs = response.data.job\n        this.jobdetails = response.data.jobdetails\n    },\n\n}\n</script>\n\n<style scoped>\n*{\n    color: #393d44;\n    font-size: 14px;\n    line-height: 20px;\n}\n.bg-light{\n    background-image: linear-gradient(180deg,#fafafe,#fafafe);\n}\n.section-jobs{\n    margin: 0 2rem;\n    padding: 6rem 0 1rem;\n}\n.icon img{\n    height: 15px;\n    width: 15px;\n    font-family: 'Neue Haas Text Roman',sans-serif;\n    font-size: 1rem;\n    line-height: 1.5rem;\n    color:#393d44;\n}\n\n.title strong{\n    margin-left: auto;\n    margin-right:auto;\n    font-size: 2.5rem;\n}\nh2,h3{\n    color:#162138;    \n}\n\n.careers{\n    width: 100%;\n    max-width: 750px;\n    display: block;\n    margin-top:6.8rem;\n    margin-left: auto;\n    margin-right: auto;\n}\n.apply{\n    width: 100%;\n    max-width: 750px;\n    display: block;\n    margin-left: auto;\n    margin-right: auto;\n    padding-bottom: 2rem;\n}\n.namejob{\n    margin: 0;\n    font-size: 1.2rem;  \n}\n.positionjob{\n     color:#a49dc0;\n}\n.item{\n    background-image: linear-gradient(180deg,#fff,#fff);\n    margin-bottom: 0.8rem;\n    padding: 1.8rem;\n    border-radius: 4px;\n    box-shadow: 0 4px 10px 0 rgba(169,165,182,.12), 0 12px 30px 0 rgba(169,168,186,.12);\n}\n.applynow{\n    border:2px solid #40c4ff;\n    border-radius: 2px;\n    color: #40c4ff;\n    transition: all 150ms cubic-bezier(.55,.085,.68,.53);\n    padding: 0.4rem 2rem 0.55rem;\n}\n.applynow:hover{\n    color:white;\n    text-decoration: none;\n    background: #40c4ff;\n    cursor: pointer;\n}\n\na{\n    text-decoration: none;\n}\n.details h3{\n    font-size: 1.3rem;\n    color:darkblue;\n}\n.style_input{\n  border: 1px solid rgba(0,0,0,.54);\n  border-radius: 5px;\n  padding:0.25rem;\n}\n.width-100{\n  width: 100%;\n}\n.icon img{\n    height:1rem;\n    width:1rem;\n}\n</style>"]}]}