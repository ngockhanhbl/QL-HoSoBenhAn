{"remainingRequest":"/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/node_modules/babel-loader/lib/index.js!/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/src/components/content/doctor_modules/DrugManagement.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/src/components/content/doctor_modules/DrugManagement.vue","mtime":1571839503000},{"path":"/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.set\";\nimport _toConsumableArray from \"/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport HospitalService from '@/services/HospitalService';\nimport axios from 'axios';\nexport default {\n  data: function data() {\n    return {\n      listSystem: '',\n      tenThuocSystem: '',\n      hoatChatSystem: '',\n      nongDoSystem: '',\n      baoCheSystem: '',\n      tuoiThoSystem: '',\n      selected: '',\n      infoModal: {\n        tenThuoc: '',\n        hoatChat: '',\n        baoChe: '',\n        nongDo: '',\n        tuoiTho: ''\n      },\n      user: ''\n    };\n  },\n  created: function created() {\n    this.fetchdata();\n    var user = localStorage.getItem(\"user\");\n    this.user = user;\n    var userJSON = JSON.parse(user);\n    var roles = userJSON.roles; // this.account_hospital_register = (await AccountService.getAllRegisterAcountHospitals(roles)).data\n    // this.totalRows = this.hospitals_register.length\n  },\n  methods: {\n    checkform: function checkform() {\n      if (!infoModal.tenThuoc && !infoModal.hoatChat && !infoModal.baoChe && !infoModal.nongDo && !infoModal.tuoiTho) {\n        this.$toasted.show('Vui Lòng Nhập Đầy Đủ Thông Tin !!!', {\n          theme: \"toasted-primary\",\n          position: \"bottom-center\",\n          duration: 4000\n        });\n      } else {\n        this.SendRequestCreateDrug();\n      }\n    },\n    SendRequestCreateDrug: function () {\n      var _SendRequestCreateDrug = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return HospitalService.SendRequestCreateDrugbank({\n                  id_hospital: this.user.id,\n                  tenThuoc: infoModal.tenThuoc,\n                  hoatChat: infoModal.hoatChat,\n                  baoChe: infoModal.baoChe,\n                  nongDo: infoModal.nongDo,\n                  tuoiTho: infoModal.tuoiTho\n                });\n\n              case 3:\n                _context.next = 8;\n                break;\n\n              case 5:\n                _context.prev = 5;\n                _context.t0 = _context[\"catch\"](0);\n                this.$toasted.show(\"\".concat(_context.t0.response.data.error), {\n                  theme: \"toasted-primary\",\n                  position: \"bottom-center\",\n                  duration: 4000\n                });\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 5]]);\n      }));\n\n      function SendRequestCreateDrug() {\n        return _SendRequestCreateDrug.apply(this, arguments);\n      }\n\n      return SendRequestCreateDrug;\n    }(),\n    resetModal: function resetModal() {\n      this.$refs['modal-add'].hide();\n      this.infoModal = '';\n    },\n    fetchdata: function () {\n      var _fetchdata = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var _this = this;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return axios.get('https://www.drugbank.vn/services/drugbank/api/public/thuoc?page=1&size=2000&fbclid=IwAR1vamwLTdSmIx8idqXMjg77a18AZ4nZYROoLE8dTTAR0sS4EUlvt7W3lMQ').then(function (response) {\n                  return _this.listSystem = response.data.filter(function (x) {\n                    return x;\n                  }).map(function (x) {\n                    return x;\n                  });\n                });\n\n              case 2:\n                this.tenThuocSystem = _toConsumableArray(new Set(this.listSystem.map(function (x) {\n                  return x.tenThuoc;\n                })));\n                this.hoatChatSystem = _toConsumableArray(new Set(this.listSystem.map(function (x) {\n                  return x.hoatChat;\n                })));\n                this.nongDoSystem = _toConsumableArray(new Set(this.listSystem.map(function (x) {\n                  return x.nongDo;\n                })));\n                this.baoCheSystem = _toConsumableArray(new Set(this.listSystem.map(function (x) {\n                  return x.baoChe;\n                })));\n                this.tuoiThoSystem = _toConsumableArray(new Set(this.listSystem.map(function (x) {\n                  return x.tuoiTho;\n                })));\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function fetchdata() {\n        return _fetchdata.apply(this, arguments);\n      }\n\n      return fetchdata;\n    }()\n  }\n};",{"version":3,"sources":["DrugManagement.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"pt-5\">\n          <b-button variant=\"outline-primary\" v-b-modal.modal-add>Thêm Thuốc</b-button>\n           <b-modal id=\"modal-add\" size='lg' ref=\"modal-add\" title=\"Thêm Thuốc\">\n          <div>\n            <div class=\"my-2 d-flex\">\n                <p class=\"col-sm-4 title_editor\">Tên Thuốc</p>\n                <span class=\"col-sm-8\">\n                    <input type=\"text\" list=\"LoadListDrug\" v-model=\"infoModal.tenThuoc\" class=\"width-100 style_input\">\n                    <datalist id=\"LoadListDrug\">\n                        <option v-for=\"(drug,index) in tenThuocSystem\" :key=\"index\">{{drug}}</option>\n                    </datalist>\n                </span>\n\n            </div> \n\n            <div class=\"my-2 d-flex\">\n                <p class=\"col-sm-4 title_editor\">Hoạt Chất</p>\n                <span class=\"col-sm-8\"><input list=\"ListHoatChat\"  type=\"text\" v-model=\"infoModal.hoatChat\" class=\"width-100 style_input\"></span>\n                <datalist id=\"ListHoatChat\">\n                    <option v-for=\"(drug,index) in hoatChatSystem\" :key=\"index\">{{drug}}</option>\n                </datalist>\n            </div>\n\n            <div class=\"my-2 d-flex\">\n                <p class=\"col-sm-4 title_editor\">Nồng Độ/Hàm Lượng</p>\n                <span class=\"col-sm-8\">\n                    <input type=\"text\" list=\"ListNongDo\" v-model=\"infoModal.nongDo\" class=\"width-100 style_input\">\n                    <datalist id=\"ListNongDo\">\n                        <option v-for=\"(drug,index) in nongDoSystem\" :key=\"index\">{{drug}}</option>\n                    </datalist>\n                </span>\n            </div>\n\n            <div class=\"my-2 d-flex\">\n                <p class=\"col-sm-4 title_editor\">Dạng Bào Chế</p>\n                <span class=\"col-sm-8\">\n                    <input type=\"text\" list=\"ListBaoChe\" v-model=\"infoModal.baoChe\" class=\"width-100 style_input\">\n                    <datalist id=\"ListBaoChe\">\n                        <option v-for=\"(drug,index) in baoCheSystem\" :key=\"index\">{{drug}}</option>\n                    </datalist>\n                </span>\n            </div>\n\n                <div class=\"my-2 d-flex\">\n                <p class=\"col-sm-4 title_editor\">Hạn Sử Dụng</p>\n                <span class=\"col-sm-8\">\n                    <input type=\"text\" list=\"ListTuoiTho\" v-model=\"infoModal.tuoiTho\" class=\"width-100 style_input\">\n                    <datalist id=\"ListTuoiTho\">\n                        <option v-for=\"(drug,index) in tuoiThoSystem\" :key=\"index\">{{drug}}</option>\n                    </datalist>\n                </span>\n            </div>\n          </div>\n        <template v-slot:modal-footer>\n            <div class=\"w-100\">\n            <b-button\n                variant=\"secondary\"\n                size=\"sm\"\n                class=\"float-left text-white\"\n                @click=\"resetModal\"\n            >\n                Đóng\n            </b-button>\n            <b-button\n                variant=\"warning\"\n                size=\"sm\"\n                class=\"float-right SendRequestCreateDrug text-white\"\n                @click=\"SendRequestCreateDrug\"\n            >\n                <img src=\"@/assets/images/send.svg\" /> Gửi Yêu Cầu Tạo Tin\n            </b-button>\n            </div>\n        </template>\n      </b-modal>\n    </div>\n    \n</template>\n\n<script>\nimport HospitalService from '@/services/HospitalService'\nimport axios from 'axios';\nexport default {\n    data(){\n        return{\n            listSystem:'',\n            tenThuocSystem:'',\n            hoatChatSystem:'',\n            nongDoSystem:'',\n            baoCheSystem:'',\n            tuoiThoSystem:'',\n            selected:'',\n            infoModal: {\n                tenThuoc: '',\n                hoatChat: '',\n                baoChe:'',\n                nongDo:'',\n                tuoiTho:'',\n            },\n            user:''\n        }\n    },\n    created(){\n        this.fetchdata();\n        const user = localStorage.getItem(\"user\")\n        this.user = user;\n        const userJSON = JSON.parse(user)\n        const roles = userJSON.roles\n        // this.account_hospital_register = (await AccountService.getAllRegisterAcountHospitals(roles)).data\n        // this.totalRows = this.hospitals_register.length\n    },\n    methods:{\n        checkform(){\n            if(!infoModal.tenThuoc && !infoModal.hoatChat && !infoModal.baoChe && !infoModal.nongDo && !infoModal.tuoiTho ){\n                this.$toasted.show('Vui Lòng Nhập Đầy Đủ Thông Tin !!!', { \n                    theme: \"toasted-primary\",\n                    position: \"bottom-center\", \n                    duration : 4000\n                });\n            }else{\n                this.SendRequestCreateDrug()\n            }\n        },\n        async SendRequestCreateDrug(){\n            try {\n                await HospitalService.SendRequestCreateDrugbank({\n                    id_hospital: this.user.id,\n                    tenThuoc: infoModal.tenThuoc,\n                    hoatChat: infoModal.hoatChat,\n                    baoChe:infoModal.baoChe,\n                    nongDo:infoModal.nongDo,\n                    tuoiTho:infoModal.tuoiTho,\n            })\n            }catch (error) {\n                    this.$toasted.show(`${error.response.data.error}`, { \n                        theme: \"toasted-primary\",\n                        position: \"bottom-center\", \n                        duration : 4000\n                });\n            }\n        },\n        resetModal(){\n            this.$refs['modal-add'].hide();\n            this.infoModal = '';\n        },\n        async fetchdata(){\n            await axios\n                .get('https://www.drugbank.vn/services/drugbank/api/public/thuoc?page=1&size=2000&fbclid=IwAR1vamwLTdSmIx8idqXMjg77a18AZ4nZYROoLE8dTTAR0sS4EUlvt7W3lMQ')\n                .then(response => (this.listSystem = response.data.filter(x=>x).map(x=>x)));\n            this.tenThuocSystem = [...new Set(this.listSystem.map(x=>x.tenThuoc))]\n            this.hoatChatSystem = [...new Set(this.listSystem.map(x=>x.hoatChat))] \n            this.nongDoSystem = [...new Set(this.listSystem.map(x=>x.nongDo))]\n            this.baoCheSystem = [...new Set(this.listSystem.map(x=>x.baoChe))] \n            this.tuoiThoSystem =[...new Set(this.listSystem.map(x=>x.tuoiTho))] \n        }\n    }\n    \n}\n\n</script>\n\n<style scoped>\n.title_editor{\n  font-weight: bold;\n  color:tomato;\n}\n.style_input{\n  border: 1px solid rgba(0,0,0,.54);\n  border-radius: 2px;\n  padding:0.25rem;\n}\n.width-100{\n  width: 100%;\n}\n.SendRequestCreateDrug img{\n    height:1rem;\n    width:1rem;\n}\n</style>\n"],"sourceRoot":"src/components/content/doctor_modules"}]}