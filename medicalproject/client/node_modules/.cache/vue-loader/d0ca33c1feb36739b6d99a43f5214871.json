{"remainingRequest":"/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/src/components/content/Hospital.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/src/components/content/Hospital.vue","mtime":1570372937000},{"path":"/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport HospitalService from '@/services/HospitalService'\nimport AccountService from '@/services/AccountService'\n  export default {\n    data() {\n      return {\n        get isUserLoggedIn() {\n          return localStorage.getItem('isUserLoggedIn' || false);\n        },\n        doctors:[],\n        fields: [\n          { key: 'name', label: 'Họ và Tên', sortable: true, sortDirection: 'desc' },\n          {key: 'age', label: 'Tuổi', sortable: true, class: 'text-center'},\n          { key: 'id_account', label: 'ID', sortable: true, sortDirection: 'desc', class: 'text-center' },\n          { key: 'department', label: 'Phòng ban', sortable: true },\n          { key: 'specialize', label: 'Chuyên môn', sortable: true },\n          { key: 'email', label: 'Email', formatter: 'GetFieldsemail',sortable: true  },\n          { key: 'actions', label: 'Actions', class: 'd-flex justify-content-center ' }\n        ],\n        totalRows: 1,\n        currentPage: 1,\n        perPage: 5,\n        id_hospital:'',\n        pageOptions: [5, 10, 15],\n        filter: null,\n        infoModal: {\n          id: 'info-modal',\n          title: '',\n          content: '',\n          firstname_doctor:null\n        },\n        account_doctor_:[],\n\n        isModifyFirstName:false,\n        isModifyLastName:false,\n        isModifyPhone:false,\n        isModifyAddress:false,\n        isModifyEmail:false,\n        isModifyPassword:false,\n        isModifyDepartment:false,\n        isModifySpecialize:false,\n        isModifyCmnd:false,\n        isModifySex:false,\n        isModifyBirthday:false,\n\n        department_modify:'',\n        specialize_modify:'',\n        cmnd_modify:'',\n        sex_modify:'',\n        birthday_modify:'',\n        email_modify:'',\n        password_modify:'',\n        phone_modify:'',\n        address_modify:'',\n        firstname_modify:'',\n        lastname_modify:'',\n        user:null,\n        passwordchangeValue:'',\n        passwordchangeValueAgain:'',\n        currentItem:'',\n        currentIndex:'',\n        currentButton:''\n      }\n    },\n    async mounted() {\n      this.user =JSON.parse(localStorage.getItem('user'))\n      const id_hospital = this.user.id\n      this.doctors = (await HospitalService.show(id_hospital)).data\n      const id_account_doctor = this.doctors.map(x=> x.id_account)\n      const payload = JSON.stringify({\n        id_hospital:id_hospital,\n        roles:this.user.roles,\n        id_account:id_account_doctor\n        \n      })\n\n      this.account_doctor_ = (await AccountService.getAllAcountDoctors({\n        payload:payload\n      })).data\n      this.totalRows = this.doctors.length\n    },\n    methods: {\n      validationPasswordChange(){\n        if(!this.passwordchangeValue || !this.passwordchangeValueAgain){\n            this.$toasted.show('Vui Lòng Nhập Đầy Đủ Thông Tin !!!', { \n            theme: \"bubble\",\n            position: \"bottom-right\", \n            duration : 4000\n        });\n        }else if(this.passwordchangeValue !== this.passwordchangeValueAgain){\n          this.$toasted.show(`Mật Khẩu Và Mật Khẩu Xác Nhận Không Giống Nhau !!!<br>Vui Lòng Kiểm Tra Lại !!!`, { \n            theme: \"bubble\", \n            position: \"bottom-right\", \n            duration : 5000\n        });\n        }else if(this.passwordchangeValue.length < 8){\n          this.$toasted.show(`Mật khẩu được cung cấp phải khớp với các quy tắc sau:\\n            <br><br>\\n            1. Nó phải chứa chỉ các ký tự sau: chữ thường, chữ hoa, chữ số.\\n            <br><br>\\n            2. mật khẩu dài ít nhất 8 kí tự và không dài hơn 32 kí tự.\\n            </div>\\n        `, { \n            theme: \"bubble\", \n            position: \"bottom-right\", \n            duration : 4000\n        });\n        }else{\n          this.changepassword();\n          this.closeModal2();\n        }\n      },\n      closeModal2(){\n        this.passwordchangeValue = ''\n        this.passwordchangeValueAgain = ''\n        this.$root.$emit('bv::hide::modal', \"modal-2\", \"button\")\n      },\n      async changepassword(){\n        try {\n            await HospitalService.changePassword({\n              id_account:this.user.id,\n              password_hospital:this.passwordchangeValue\n          })\n        } catch (error) {\n          this.ErrorToasted(error)\n        }\n\n            this.$toasted.show(`Cập Nhập Thành công !!`, { \n              theme: \"bubble\",\n              position: \"bottom-right\", \n              duration : 3000\n          });\n      },\n      async addDoctor(){\n          this.$router.push({\n            path: `/Hospital/${this.user.id}/addDoctor`\n          })\n      },\n      async deleteDoctor(item, index, button){\n        this.currentItem = item\n        this.currentIndex = index\n        this.currentButton = button\n        this.$root.$emit('bv::toggle::modal', 'modal-ask-again', '#btnToggle')\n\n\n        \n      },\n      cancelDelete(){\n        this.$refs['modal-ask-again'].hide()\n        this.currentItem = '';\n        this.currentIndex = '';\n        this.currentButton = '';\n      },\n      async agreeDelete(){\n        const delete_result = (await HospitalService.delete(this.currentItem.id_account)).data      \n          this.$toasted.show(`Đã xóa bác sĩ ${delete_result.lastname} Thành công !!`, { \n            theme: \"bubble\", \n            position: \"bottom-right\", \n            duration : 2000\n        });\n        if (~this.currentIndex)\n          this.doctors.splice(this.currentIndex, 1)\n        this.currentItem = '';\n        this.currentIndex = '';\n        this.currentButton = '';\n        this.$refs['modal-ask-again'].hide()\n\n      },\n      GetFieldsemail(row,key,item){\n        for(var account_doctor__ of this.account_doctor_) {\n            if(account_doctor__.id == item.id_account){\n              return account_doctor__.email\n            }\n        }\n      },\n      changeInfo(item, index, button) {\n          // this.$router.push({\n          //   path: `/Hospital/${this.user.id}/changeInfo`\n          // })\n        this.infoModal.title = `Thay đổi thông tin`\n        this.infoModal.lastname_doctor = item.lastname\n        this.infoModal.firstname_doctor = item.firstname\n        this.infoModal.cmnd_doctor = item.cmnd\n        this.infoModal.sex_doctor = item.sex\n        this.infoModal.phone_doctor = item.phone\n        this.infoModal.address_doctor = item.address\n        this.infoModal.id_account = item.id_account\n        this.infoModal.department = item.department\n        this.infoModal.specialize = item.specialize\n        this.infoModal.birthday = item.month + ' / ' + item.day + ' / ' + item.year \n        this.infoModal.email_doctor = this.GetFieldsemail('row','key',item)\n\n        this.infoModal.password = ''\n        this.$root.$emit('bv::show::modal', this.infoModal.id, button)\n\n      },\n      cancelModify(payload){\n        if(payload == 'firstname'){\n          this.isModifyFirstName = false\n        }\n        else if(payload == 'lastname'){\n          this.isModifyLastName = false\n        }\n        else if(payload == 'phone'){\n          this.isModifyPhone = false\n        }\n        else if(payload == 'address'){\n          this.isModifyAddress = false\n        }\n        else if(payload == 'email'){\n          this.isModifyEmail = false\n        }\n        else if(payload == 'password'){\n          this.isModifyPassword = false\n        }\n        else if(payload == 'department'){\n          this.isModifyDepartment = false\n        }\n        else if(payload == 'specialize'){\n          this.isModifySpecialize = false\n        }\n        else if(payload == 'birthday'){\n          this.isModifyBirthday = false\n        }\n        else if(payload == 'sex'){\n          this.isModifySex = false\n        }\n        else if(payload == 'phone'){\n          this.isModifyPhone = false\n        }\n        else if(payload == 'cmnd'){\n          this.isModifyCmnd = false\n        }\n        else{\n          this.$toasted.show(`Có lỗi xãy ra!!`, { \n            theme: \"bubble\", \n            position: \"bottom-right\", \n            duration : 2000\n        });\n\n        }\n      },\n      async SussessToasted(){\n        this.$toasted.show(`Update Thành công !!`, { \n            theme: \"bubble\",\n            position: \"bottom-right\", \n            duration : 3000\n        });\n      },\n      async ErrorToasted(error){\n        this.$toasted.show(`${error.response.data.error}`, { \n            theme: \"toasted-primary\", \n            position: \"bottom-center\",\n            duration : 5000\n        });\n      },\n      async ValidationToasted(name){\n        this.$toasted.show(`Vui lòng nhập ${name} bạn muốn thay đổi !!`, { \n              theme: \"toasted-primary\", \n              position: \"bottom-center\", \n              duration : 3000\n          });\n      },\n      async ModifyView(nameModifyView ,id_account){\n        if(nameModifyView == 'firstname'){\n          this.infoModal.firstname_doctor = this.firstname_modify\n          this.doctors.filter(x=>x.id_account == id_account)[0].firstname = this.firstname_modify\n        }\n        else if(nameModifyView == 'lastname'){\n          this.infoModal.lastname_doctor = this.lastname_modify\n          this.doctors.filter(x=>x.id_account == id_account)[0].lastname = this.lastname_modify\n        }\n        else if(nameModifyView == 'address'){\n          this.infoModal.address_doctor = this.address_modify\n          this.doctors.filter(x=>x.id_account == id_account)[0].address = this.address_modify\n        }\n        else if(nameModifyView == 'email'){\n          this.infoModal.email_doctor = this.email_modify\n          this.account_doctor_.filter(x=>x.id_account == id_account)[0].email = this.email_modify\n        }\n        else if(nameModifyView == 'department'){\n          this.infoModal.department = this.department_modify\n          this.doctors.filter(x=>x.id_account == id_account)[0].department = this.department_modify\n        }\n        else if(nameModifyView == 'specialize'){\n          this.infoModal.specialize = this.specialize_modify\n          this.doctors.filter(x=>x.id_account == id_account)[0].specialize = this.specialize_modify\n        }\n        else if(nameModifyView == 'cmnd'){\n          this.infoModal.cmnd_doctor = this.cmnd_modify\n          this.doctors.filter(x=>x.id_account == id_account)[0].cmnd = this.cmnd_modify\n        }\n        else if(nameModifyView == 'phone'){\n          this.infoModal.phone_doctor = this.phone_modify\n          this.doctors.filter(x=>x.id_account == id_account)[0].phone = this.phone_modify\n        }\n        else if(nameModifyView == 'sex'){\n          this.infoModal.sex_doctor = this.sex_modify\n          this.doctors.filter(x=>x.id_account == id_account)[0].sex = this.sex_modify\n\n        }\n        else if(nameModifyView == 'birthday'){\n          const date = this.birthday_modify;\n          const yearVariable = date.slice(0, 4)\n          const monthVariable = date.slice(5, 7)\n          const dayVariable = date.slice(8, 10)\n          this.infoModal.birthday = monthVariable +' / '+ dayVariable +' / '+ yearVariable\n\n          this.doctors.filter(x=>x.id_account == id_account)[0].day = dayVariable\n          this.doctors.filter(x=>x.id_account == id_account)[0].month = monthVariable\n          this.doctors.filter(x=>x.id_account == id_account)[0].year = yearVariable\n        }\n        \n      },\n\n\n      async SendRequestModifyInfomation(id_account, nameModify){\n        switch (nameModify) {\n          case 'firstname':\n            if(this.firstname_modify){\n              try {\n                  await HospitalService.updateFirstNameDoctor({\n                    id_account:id_account,\n                    firstname:this.firstname_modify\n                  })\n                  this.SussessToasted();\n                  this.ModifyView('firstname',id_account)\n                  this.isModifyFirstName = false\n                  this.firstname_modify = ''\n              }catch (error) {\n                this.ErrorToasted(error)\n              }\n            }else{\n              this.ValidationToasted('Họ và tên lót')\n            } \n            break;\n\n          case 'lastname':\n            if(this.lastname_modify){\n              try {\n                  await HospitalService.updateLastNameDoctor({\n                    id_account:id_account,\n                    lastname:this.lastname_modify\n                  })\n                  this.SussessToasted();\n                  this.ModifyView('lastname',id_account)\n                  this.isModifyLastName = false\n                  this.lastname_modify = ''\n              }catch (error) {\n                this.ErrorToasted(error)\n              }\n            }else{\n              this.ValidationToasted('Tên')\n            } \n            break;\n\n\n          case 'address':\n            if(this.address_modify){\n              try {\n                  await HospitalService.updateAddressDoctor({\n                    id_account:id_account,\n                    address:this.address_modify\n                  })\n                  this.SussessToasted();\n                  this.ModifyView('address',id_account)\n                  this.isModifyAddress = false\n                  this.address_modify = ''\n              }catch (error) {\n                this.ErrorToasted(error)\n              }\n            }else{\n              this.ValidationToasted('Địa Chỉ')\n            } \n            break;\n\n\n          case 'email':\n            if(this.email_modify){\n              try {\n                  await HospitalService.updateEmailDoctor({\n                    id_account:id_account,\n                    email:this.email_modify\n                  })\n                  this.SussessToasted();\n                  this.ModifyView('email',id_account)\n                  this.isModifyEmail = false\n                  this.email_modify = ''\n              }catch (error) {\n                this.ErrorToasted(error)\n              }\n            }else{\n              this.ValidationToasted('Email')\n            } \n            break;\n\n          case 'password':\n            if(this.password_modify){\n              try {\n                  await HospitalService.updatePasswordDoctor({\n                    id_account:id_account,\n                    password:this.password_modify\n                  })\n                  this.SussessToasted();\n                  this.isModifyPassword = false\n                  this.password_modify = ''\n              }catch (error) {\n                this.ErrorToasted(error)\n              }\n            }else{\n              this.ValidationToasted('Password')\n            } \n            break;\n\n          case 'department':\n            if(this.department_modify){\n              try {\n                  await HospitalService.updateDepartmentDoctor({\n                    id_account:id_account,\n                    department:this.department_modify\n                  })\n                  this.SussessToasted();\n                  this.ModifyView('department',id_account)\n                  this.isModifyDepartment = false\n                  this.department_modify = ''\n              }catch (error) {\n                this.ErrorToasted(error)\n              }\n            }else{\n              this.ValidationToasted('Phòng Ban')\n            } \n            break;\n\n          case 'specialize':\n            if(this.specialize_modify){\n              try {\n                  await HospitalService.updateSpecializeDoctor({\n                    id_account:id_account,\n                    specialize:this.specialize_modify\n                  })\n                  this.SussessToasted();\n                  this.ModifyView('specialize',id_account)\n                  this.isModifySpecialize = false\n                  this.specialize_modify = ''\n              }catch (error) {\n                this.ErrorToasted(error)\n              }\n            }else{\n              this.ValidationToasted('Chuyên môn')\n            } \n            break;\n\n          case 'cmnd':\n            if(this.cmnd_modify){\n              try {\n                  await HospitalService.updateCmndDoctor({\n                    id_account:id_account,\n                    cmnd:this.cmnd_modify\n                  })\n                  this.SussessToasted();\n                  this.ModifyView('cmnd',id_account)\n                  this.isModifyCmnd = false\n                  this.cmnd_modify = ''\n              }catch (error) {\n                this.ErrorToasted(error)\n              }\n            }else{\n              this.ValidationToasted('CMND')\n            } \n            break;\n\n          case 'phone':\n            if(this.phone_modify){\n              try {\n                  await HospitalService.updatePhoneDoctor({\n                    id_account:id_account,\n                    phone:this.phone_modify\n                  })\n                  this.SussessToasted();\n                  this.ModifyView('phone',id_account)\n                  this.isModifyPhone = false\n                  this.phone_modify = ''\n              }catch (error) {\n                this.ErrorToasted(error)\n              }\n            }else{\n              this.ValidationToasted('Số Điện Thoại')\n            } \n            break;\n\n          case 'sex':\n            if(this.sex_modify){\n              try {\n                  await HospitalService.updateSexDoctor({\n                    id_account:id_account,\n                    sex:this.sex_modify\n                  })\n                  this.SussessToasted();\n                  this.ModifyView('sex',id_account)\n                  this.isModifySex = false\n                  this.sex_modify = ''\n              }catch (error) {\n                this.ErrorToasted(error)\n              }\n            }else{\n              this.ValidationToasted('Giới Tính')\n            } \n            break;\n\n          case 'birthday':\n            if(this.birthday_modify){\n              if(!this.validationBirthday(this.birthday_modify)){\n                \n              }else{\n                try {\n                    await HospitalService.updateBirthdayDoctor({\n                      id_account:id_account,\n                      birthday:this.birthday_modify\n                    })\n                    this.SussessToasted();\n                    this.ModifyView('birthday',id_account)\n                    this.isModifyBirthday = false\n                    this.birthday_modify = ''\n                }catch (error) {\n                  this.ErrorToasted(error)\n                }\n              }\n            }else{\n              this.ValidationToasted('Sinh nhật')\n            } \n            break;\n          default:\n            break;\n        }\n\n      },\n      validationBirthday(birthday){\n        const birth = birthday.split('-');\n        const day = birth[2]\n        const month = birth[1]\n        const year = birth[0]\n        if(parseInt(day) > 32 || parseInt(day)<1){\n            this.$toasted.show(`Sai ngày !!`, { \n              theme: \"bubble\",\n              position: \"bottom-right\", \n              duration : 3000\n          });\n          return false;\n        }\n        if(parseInt(month) > 12 || parseInt(month)<1){\n          this.$toasted.show(`Sai tháng !!`, { \n              theme: \"bubble\",\n              position: \"bottom-right\", \n              duration : 3000\n          });\n          return false;\n        }\n        if(parseInt(year) > 2019 || parseInt(year)<1800){\n          this.$toasted.show(`Sai năm !!`, { \n              theme: \"bubble\",\n              position: \"bottom-right\", \n              duration : 3000\n          });\n          return false;\n        }\n        return true\n      },\n\n\n\n      info(item, index, button) {\n        this.infoModal.title = `Row index: ${index}`\n        this.infoModal.content = JSON.stringify(item, null, 2)\n        this.$root.$emit('bv::show::modal', this.infoModal.id, button)\n      },\n      resetInfoModal() {\n        this.infoModal.title = ''\n        this.infoModal.content = ''\n      },\n      onFiltered(filteredItems) {\n        this.totalRows = filteredItems.length\n        this.currentPage = 1\n      },\n    },\n  }\n",{"version":3,"sources":["Hospital.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Hospital.vue","sourceRoot":"src/components/content","sourcesContent":["<template>\n    <div class=\"pt-5 bg pb-3 bg\" \n    :style=\"{\n        'background-image':\n          'url(' + require('@/assets/images/luami.jpg') + ') '\n      }\">\n            <div class=\"main_register m-auto \">\n              <div class=\"d-flex pr-5 pt-4 \">\n                <div class=\"mr-auto pl-5 pt-3\">Xin Chào</div>\n                <!-- <div class=\"p-2\">\n                   <button type=\"button\" class=\"btn btn-warning text-white mr-3\" ></button>\n                </div> -->\n                \n                <div class=\"p-2\">\n                     <b-button variant=\"outline-secondary\" v-b-modal.modal-2 >Thay đổi mật khẩu</b-button>\n                      <b-modal id=\"modal-2\" title=\"Đổi Mật Khẩu\">\n                        <b class=\"my-4\">Nhập Mật Khẩu Bạn Muốn Đổi:</b>\n                        <p class=\"my-4\"><input type=\"password\" placeholder=\"nhập mật khẩu\" class=\"inputStyle\" v-model=\"passwordchangeValue\"></p>\n                        <p class=\"my-4\"><input type=\"password\" placeholder=\"nhập lại mật khẩu\" class=\"inputStyle\" v-model=\"passwordchangeValueAgain\"></p>\n                        <template v-slot:modal-footer>\n                          <div class=\"w-100\">\n                            <b-button\n                              variant=\"warning\"\n                              size=\"sm\"\n                              class=\"float-right ml-3\"\n                              @click=\"validationPasswordChange\"\n                            >\n                              Gửi Yêu Cầu Đổi Mật Khẩu\n                            </b-button>\n                            \n                            <b-button\n                              variant=\"primary\"\n                              size=\"sm\"\n                              class=\"float-right\"\n                              @click=\"closeModal2\"\n                            >\n                              Đóng\n                            </b-button>\n                          </div>\n                        </template>\n                      </b-modal>\n                </div>\n                <div class=\"p-2\">\n                   <button type=\"button\" class=\"btn btn-success text-white\" @click=\"addDoctor\">Thêm Bác Sĩ</button>\n                </div>\n\n              </div>\n                  <b-row class=\"px-5\">\n                    <b-col md=\"6\" class=\"my-3\">\n                      <b-form-group label-cols-sm=\"3\" label=\"Filter\" class=\"mb-0\">\n                        <b-input-group>\n                          <b-form-input v-model=\"filter\" placeholder=\"Type to Search\"></b-form-input>\n                          <b-input-group-append>\n                            <b-button :disabled=\"!filter\" @click=\"filter = ''\">Clear</b-button>\n                          </b-input-group-append>\n                        </b-input-group>\n                      </b-form-group>\n                    </b-col>\n\n                    <b-col md=\"6\" class=\"my-3\">\n                      <b-form-group label-cols-sm=\"3\" label=\"Per page\" class=\"mb-0\">\n                        <b-form-select v-model=\"perPage\" :options=\"pageOptions\"></b-form-select>\n                      </b-form-group>\n                    </b-col>\n                  </b-row>\n                <div class=\"register\">\n                    <div class=\"p_1r mlr_1-5r\" >\n                      <b-table\n                        show-empty\n                        bordered\n                        striped\n                        stacked=\"md\"\n                        :items=\"doctors\"\n                        :fields=\"fields\"\n                        :current-page=\"currentPage\"\n                        :per-page=\"perPage\"\n                        :filter=\"filter\"\n                      \n                        @filtered=\"onFiltered\"\n                      >\n                        <template slot=\"name\" slot-scope=\"row\">\n                          {{ row.item.firstname }} {{ row.item.lastname }}\n                        </template>\n\n                        <template slot=\"age\" slot-scope=\"row\">\n                          {{new Date().getFullYear() - row.item.year }}\n                        </template>\n\n                        <template slot=\"actions\" slot-scope=\"row\" class=\"d-flex justify-content-start\">\n                          <b-button size=\"sm\" @click=\"row.toggleDetails\" class=\"text-white\">\n                            {{ row.detailsShowing ? 'Ẩn' : 'Xem' }} Chi Tiết\n                          </b-button>\n                          <b-button size=\"sm\" @click=\"changeInfo(row.item, row.index, $event.target)\" class=\"ml-4 mr-4 btn-info text-white\">\n                            Sửa Thông tin\n                          </b-button>                       \n                          <b-button size=\"sm\" @click=\"deleteDoctor(row.item, row.index, $event.target)\" class=\"btn-danger text-white \">\n                            Xóa Thông tin\n                          </b-button>\n                        </template>\n\n\n                        <template slot=\"row-details\" slot-scope=\"row\">\n                          <b-card>\n                            <b-row class=\"mb-2\">\n                              <b-col sm=\"3\" class=\"text-sm-right\"><b>Họ và Tên:</b></b-col>\n                              <b-col>{{ row.item.firstname }} {{ row.item.lastname }}</b-col>\n                            </b-row>\n\n                            <b-row class=\"mb-2\">\n                              <b-col sm=\"3\" class=\"text-sm-right\"><b>Ngày sinh(mm/dd/yyyy):</b></b-col>\n                              <b-col>{{ row.item.month }} / {{ row.item.day }} / {{ row.item.year }}</b-col>\n                            </b-row>\n                            <b-row class=\"mb-2\">\n                              <b-col sm=\"3\" class=\"text-sm-right\"><b>Giới tính:</b></b-col>\n                              <b-col>{{ row.item.sex }}</b-col>\n                            </b-row>\n                            <b-row class=\"mb-2\">\n                              <b-col sm=\"3\" class=\"text-sm-right\"><b>Phòng ban:</b></b-col>\n                              <b-col>{{ row.item.department }}</b-col>\n                            </b-row>\n                            <b-row class=\"mb-2\">\n                              <b-col sm=\"3\" class=\"text-sm-right\"><b>Chuyên môn:</b></b-col>\n                              <b-col>{{ row.item.specialize }}</b-col>\n                            </b-row>\n                            <b-row class=\"mb-2\">\n                              <b-col sm=\"3\" class=\"text-sm-right\"><b>Số điện thoại:</b></b-col>\n                              <b-col>{{ row.item.phone }}</b-col>\n                            </b-row>\n\n                            <b-row class=\"mb-2\">\n                              <b-col sm=\"3\" class=\"text-sm-right\"><b>Địa chỉ:</b></b-col>\n                              <b-col>{{ row.item.address }}</b-col>\n                            </b-row>\n                            \n\n                            <b-row class=\"mb-2\">\n                              <b-col sm=\"3\" class=\"text-sm-right\"><b>CMND:</b></b-col>\n                              <b-col>{{ row.item.cmnd }}</b-col>\n                            </b-row>\n\n                            <b-button size=\"sm\" @click=\"row.toggleDetails\" class=\"btn-warning\">Ẩn Chi Tiết</b-button>\n                          </b-card>\n                        </template>\n                      </b-table>\n\n                      <b-row>\n                        <b-col md=\"6\" class=\"my-1\">\n                          <b-pagination\n                            v-model=\"currentPage\"\n                            :total-rows=\"totalRows\"\n                            :per-page=\"perPage\"\n                            class=\"my-0\"\n                          ></b-pagination>\n                        </b-col>\n                      </b-row>\n\n                      <!-- Info modal -->\n                      <b-modal :id=\"infoModal.id\" :title=\"infoModal.title\" ok-only @hide=\"resetInfoModal\">\n                        <pre>{{ infoModal.content }}</pre>\n                        <div class=\"row model_wrapper\" v-if=\"!isModifyFirstName \" @click=\"isModifyFirstName = true \">\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Họ và tên lót</strong></div>\n                            <div class=\"col-sm-6 p-2\">\n                              {{infoModal.firstname_doctor}}\n                            </div>\n                            <div class=\"col-sm-3 p-2 modify-btn\">Chỉnh sửa</div>\n                        </div>\n                        \n                        <div class=\"row model_wrapper\" v-else >\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Họ và tên lót </strong></div>\n                            <div class=\"col-sm-9 p-2\">\n                              <input type=\"text\" placeholder=\"Họ và tên lót\" style=\"width:90%;\"  v-model=\"firstname_modify\">\n                            </div>\n                            <div class=\"col-sm-12 d-flex justify-content-end text-center mb-3\">\n                              <button type=\"button\" class=\"btn orange-btn btn-sm mr-3\" @click=\"SendRequestModifyInfomation(infoModal.id_account,'firstname')\">Thay đổi</button>\n                              <button type=\"button\" class=\"btn btn-outline-secondary mr-4 btn-sm \" @click=\"cancelModify('firstname')\">Hủy</button>\n                            </div>\n                        </div>\n\n\n                        <div class=\"row model_wrapper\" v-if=\"!isModifyLastName \" @click=\"isModifyLastName = true \">\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Tên</strong></div>\n                            <div class=\"col-sm-6 p-2\" >\n                              {{infoModal.lastname_doctor}}\n                            </div>\n                            <div class=\"col-sm-3 p-2 modify-btn\">Chỉnh sửa</div>\n                        </div>\n                        \n                        <div class=\"row model_wrapper\" v-else >\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Tên bác sĩ</strong></div>\n                            <div class=\"col-sm-9 p-2\">\n                              <input type=\"text\" placeholder=\"Tên bác sĩ\" style=\"width:90%;\"  v-model=\"lastname_modify\">\n                            </div>\n                            <div class=\"col-sm-12 d-flex justify-content-end text-center mb-3\">\n                              <button type=\"button\" class=\"btn orange-btn btn-sm mr-3\" @click=\"SendRequestModifyInfomation(infoModal.id_account,'lastname')\">Thay đổi</button>\n                              <button type=\"button\" class=\"btn btn-outline-secondary mr-4 btn-sm \" @click=\"cancelModify('lastname')\">Hủy</button>\n                            </div>\n                        </div>\n\n\n                        <div class=\"row model_wrapper\" v-if=\"!isModifyAddress \" @click=\"isModifyAddress = true \">\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Địa chỉ</strong></div>\n                            <div class=\"col-sm-6 p-2\">\n                              {{infoModal.address_doctor}}\n                            </div>\n                            <div class=\"col-sm-3 p-2 modify-btn\">Chỉnh sửa</div>\n                        </div>\n                        \n                        <div class=\"row model_wrapper\" v-else >\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Địa chỉ</strong></div>\n                            <div class=\"col-sm-9 p-2\">\n                              <input type=\"text\" placeholder=\"12 Tân hưng, etc..\" style=\"width:90%;\"  v-model=\"address_modify\">\n                            </div>\n                            <div class=\"col-sm-12 d-flex justify-content-end text-center mb-3\">\n                              <button type=\"button\" class=\"btn orange-btn btn-sm mr-3\" @click=\"SendRequestModifyInfomation(infoModal.id_account,'address')\">Thay đổi</button>\n                              <button type=\"button\" class=\"btn btn-outline-secondary mr-4 btn-sm \" @click=\"cancelModify('address')\">Hủy</button>\n                            </div>\n                        </div>\n\n                        <div class=\"row model_wrapper\" v-if=\"!isModifyEmail\" @click=\"isModifyEmail = true \">\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Email</strong></div>\n                            <div class=\"col-sm-6 p-2\">\n                              {{infoModal.email_doctor}}\n                            </div>\n                            <div class=\"col-sm-3 p-2 modify-btn\">Chỉnh sửa</div>\n                        </div>\n                        \n                        <div class=\"row model_wrapper\" v-else >\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Email</strong></div>\n                            <div class=\"col-sm-9 p-2\">\n                              <input type=\"text\" placeholder=\"nguyenvana@gmail.com\" style=\"width:90%;\"  v-model=\"email_modify\">\n                            </div>\n                            <div class=\"col-sm-12 d-flex justify-content-end text-center mb-3\">\n                              <button type=\"button\" class=\"btn orange-btn btn-sm mr-3\" @click=\"SendRequestModifyInfomation(infoModal.id_account,'email')\">Thay đổi</button>\n                              <button type=\"button\" class=\"btn btn-outline-secondary mr-4 btn-sm \" @click=\"cancelModify('email')\">Hủy</button>\n                            </div>\n                        </div>\n\n                        <div class=\"row model_wrapper\" v-if=\"!isModifyPassword\" @click=\"isModifyPassword = true \">\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Password</strong></div>\n                            <div class=\"col-sm-6 p-2\">\n                              {{infoModal.password_doctor}}\n                            </div>\n                            <div class=\"col-sm-3 p-2 modify-btn\">Chỉnh sửa</div>\n                        </div>\n                        \n                        <div class=\"row model_wrapper\" v-else >\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Password</strong></div>\n                            <div class=\"col-sm-9 p-2\">\n                              <input type=\"text\" style=\"width:90%;\"  v-model=\"password_modify\">\n                            </div>\n                            <div class=\"col-sm-12 d-flex justify-content-end text-center mb-3\">\n                              <button type=\"button\" class=\"btn orange-btn btn-sm mr-3\" @click=\"SendRequestModifyInfomation(infoModal.id_account,'password')\">Thay đổi</button>\n                              <button type=\"button\" class=\"btn btn-outline-secondary mr-4 btn-sm \" @click=\"cancelModify('password')\">Hủy</button>\n                            </div>\n                        </div>\n\n                        <div class=\"row model_wrapper\" v-if=\"!isModifyDepartment\" @click=\"isModifyDepartment = true \">\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Phòng ban</strong></div>\n                            <div class=\"col-sm-6 p-2\">\n                              {{infoModal.department}}\n                            </div>\n                            <div class=\"col-sm-3 p-2 modify-btn\">Chỉnh sửa</div>\n                        </div>\n                        \n                        <div class=\"row model_wrapper\" v-else >\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Phòng ban</strong></div>\n                            <div class=\"col-sm-9 p-2\">\n                              <input type=\"text\" style=\"width:90%;\" v-model=\"department_modify\">\n                            </div>\n                            <div class=\"col-sm-12 d-flex justify-content-end text-center mb-3\">\n                              <button type=\"button\" class=\"btn orange-btn btn-sm mr-3\" @click=\"SendRequestModifyInfomation(infoModal.id_account,'department')\">Thay đổi</button>\n                              <button type=\"button\" class=\"btn btn-outline-secondary mr-4 btn-sm \" @click=\"cancelModify('department')\">Hủy</button>\n                            </div>\n                        </div>\n\n\n                        <div class=\"row model_wrapper\" v-if=\"!isModifySpecialize\" @click=\"isModifySpecialize = true \">\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Chuyên Môn</strong></div>\n                            <div class=\"col-sm-6 p-2\">\n                              {{infoModal.specialize}}\n                            </div>\n                            <div class=\"col-sm-3 p-2 modify-btn\">Chỉnh sửa</div>\n                        </div>\n                        \n                        <div class=\"row model_wrapper\" v-else >\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Chuyên môn</strong></div>\n                            <div class=\"col-sm-9 p-2\">\n                              <input type=\"text\" style=\"width:90%;\"  v-model=\"specialize_modify\">\n                            </div>\n                            <div class=\"col-sm-12 d-flex justify-content-end text-center mb-3\">\n                              <button type=\"button\" class=\"btn orange-btn btn-sm mr-3\" @click=\"SendRequestModifyInfomation(infoModal.id_account,'specialize')\">Thay đổi</button>\n                              <button type=\"button\" class=\"btn btn-outline-secondary mr-4 btn-sm \" @click=\"cancelModify('specialize')\">Hủy</button>\n                            </div>\n                        </div>\n\n                        <div class=\"row model_wrapper\" v-if=\"!isModifyCmnd\" @click=\"isModifyCmnd = true \">\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Chứng minh nhân dân</strong></div>\n                            <div class=\"col-sm-6 p-2\">\n                              {{infoModal.cmnd_doctor}}\n                            </div>\n                            <div class=\"col-sm-3 p-2 modify-btn\">Chỉnh sửa</div>\n                        </div>\n                        \n                        <div class=\"row model_wrapper\" v-else >\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Chứng minh nhân dân</strong></div>\n                            <div class=\"col-sm-9 p-2\">\n                              <input type=\"text\" style=\"width:90%;\"  v-model=\"cmnd_modify\">\n                            </div>\n                            <div class=\"col-sm-12 d-flex justify-content-end text-center mb-3\">\n                              <button type=\"button\" class=\"btn orange-btn btn-sm mr-3\" @click=\"SendRequestModifyInfomation(infoModal.id_account,'cmnd')\">Thay đổi</button>\n                              <button type=\"button\" class=\"btn btn-outline-secondary mr-4 btn-sm \" @click=\"cancelModify('cmnd')\">Hủy</button>\n                            </div>\n                        </div>\n\n                        <div class=\"row model_wrapper\" v-if=\"!isModifyPhone\" @click=\"isModifyPhone = true \">\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>SDT</strong></div>\n                            <div class=\"col-sm-6 p-2\">\n                              {{infoModal.phone_doctor}}\n                            </div>\n                            <div class=\"col-sm-3 p-2 modify-btn\">Chỉnh sửa</div>\n                        </div>\n                        \n                        <div class=\"row model_wrapper\" v-else >\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>SDT</strong></div>\n                            <div class=\"col-sm-9 p-2\">\n                              <input type=\"text\" style=\"width:90%;\"  v-model=\"phone_modify\">\n                            </div>\n                            <div class=\"col-sm-12 d-flex justify-content-end text-center mb-3\">\n                              <button type=\"button\" class=\"btn orange-btn btn-sm mr-3\" @click=\"SendRequestModifyInfomation(infoModal.id_account,'phone')\">Thay đổi</button>\n                              <button type=\"button\" class=\"btn btn-outline-secondary mr-4 btn-sm \" @click=\"cancelModify('phone')\">Hủy</button>\n                            </div>\n                        </div>\n\n\n                        <div class=\"row model_wrapper\" v-if=\"!isModifySex\" @click=\"isModifySex = true \">\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Giới tính</strong></div>\n                            <div class=\"col-sm-6 p-2\">\n                              {{infoModal.sex_doctor}} \n                            </div>\n                            <div class=\"col-sm-3 p-2 modify-btn\">Chỉnh sửa</div>\n                        </div>\n                        \n                        <div class=\"row model_wrapper\" v-else >\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Giới tính</strong></div>\n                            <div class=\"col-sm-9 p-2\">\n                              <input type=\"radio\" name=\"gender\" value=\"nam\" v-model=\"sex_modify\"> Nam&ensp; \n                              <input type=\"radio\" name=\"gender\" value=\"nu\" v-model=\"sex_modify\"> Nữ\n                            </div>\n                            <div class=\"col-sm-12 d-flex justify-content-end text-center mb-3\">\n                              <button type=\"button\" class=\"btn orange-btn btn-sm mr-3\" @click=\"SendRequestModifyInfomation(infoModal.id_account,'sex')\">Thay đổi</button>\n                              <button type=\"button\" class=\"btn btn-outline-secondary mr-4 btn-sm \" @click=\"cancelModify('sex')\">Hủy</button>\n                            </div>\n                        </div>\n\n\n                        <div class=\"row model_wrapper\" v-if=\"!isModifyBirthday\" @click=\"isModifyBirthday = true \">\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Sinh Nhật</strong></div>\n                            <div class=\"col-sm-6 p-2\">\n                              {{infoModal.birthday}}\n                            </div>\n                            <div class=\"col-sm-3 p-2 modify-btn\">Chỉnh sửa</div>\n                        </div>\n                        \n                        <div class=\"row model_wrapper\" v-else >\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Sinh nhật</strong></div>\n                            <div class=\"col-sm-9 p-2\">\n                              <b-form-input :id=\"`type-date`\" type=\"date\" v-model=\"birthday_modify\"></b-form-input>\n                            </div>\n                            <div class=\"col-sm-12 d-flex justify-content-end text-center mb-3\">\n                              <button type=\"button\" class=\"btn orange-btn btn-sm mr-3\" @click=\"SendRequestModifyInfomation(infoModal.id_account,'birthday')\">Thay đổi</button>\n                              <button type=\"button\" class=\"btn btn-outline-secondary mr-4 btn-sm \" @click=\"cancelModify('birthday')\">Hủy</button>\n                            </div>\n                        </div>\n                        \n\n\n                      </b-modal>\n                </div>\n            </div>  \n    </div>\n\n    <b-modal size=\"sm\" id=\"modal-ask-again\" title=\"Xác Nhận Xóa\"  ref=\"modal-ask-again\" hide-footer\t>\n      <b class=\"my-4\">Bạn có chắc chắn muốn xóa ?</b>\n      <div class='d-flex justify-content-end my-2'>\n          <b-button class=\"mx-2\" variant=\"secondary\" @click=\"cancelDelete\">Hủy</b-button>\n          <b-button class=\"mx-2\" variant=\"danger\" @click=\"agreeDelete\">Đồng Ý</b-button>\n      </div>\n    </b-modal>\n\n    </div>\n</template>\n<script>\nimport HospitalService from '@/services/HospitalService'\nimport AccountService from '@/services/AccountService'\n  export default {\n    data() {\n      return {\n        get isUserLoggedIn() {\n          return localStorage.getItem('isUserLoggedIn' || false);\n        },\n        doctors:[],\n        fields: [\n          { key: 'name', label: 'Họ và Tên', sortable: true, sortDirection: 'desc' },\n          {key: 'age', label: 'Tuổi', sortable: true, class: 'text-center'},\n          { key: 'id_account', label: 'ID', sortable: true, sortDirection: 'desc', class: 'text-center' },\n          { key: 'department', label: 'Phòng ban', sortable: true },\n          { key: 'specialize', label: 'Chuyên môn', sortable: true },\n          { key: 'email', label: 'Email', formatter: 'GetFieldsemail',sortable: true  },\n          { key: 'actions', label: 'Actions', class: 'd-flex justify-content-center ' }\n        ],\n        totalRows: 1,\n        currentPage: 1,\n        perPage: 5,\n        id_hospital:'',\n        pageOptions: [5, 10, 15],\n        filter: null,\n        infoModal: {\n          id: 'info-modal',\n          title: '',\n          content: '',\n          firstname_doctor:null\n        },\n        account_doctor_:[],\n\n        isModifyFirstName:false,\n        isModifyLastName:false,\n        isModifyPhone:false,\n        isModifyAddress:false,\n        isModifyEmail:false,\n        isModifyPassword:false,\n        isModifyDepartment:false,\n        isModifySpecialize:false,\n        isModifyCmnd:false,\n        isModifySex:false,\n        isModifyBirthday:false,\n\n        department_modify:'',\n        specialize_modify:'',\n        cmnd_modify:'',\n        sex_modify:'',\n        birthday_modify:'',\n        email_modify:'',\n        password_modify:'',\n        phone_modify:'',\n        address_modify:'',\n        firstname_modify:'',\n        lastname_modify:'',\n        user:null,\n        passwordchangeValue:'',\n        passwordchangeValueAgain:'',\n        currentItem:'',\n        currentIndex:'',\n        currentButton:''\n      }\n    },\n    async mounted() {\n      this.user =JSON.parse(localStorage.getItem('user'))\n      const id_hospital = this.user.id\n      this.doctors = (await HospitalService.show(id_hospital)).data\n      const id_account_doctor = this.doctors.map(x=> x.id_account)\n      const payload = JSON.stringify({\n        id_hospital:id_hospital,\n        roles:this.user.roles,\n        id_account:id_account_doctor\n        \n      })\n\n      this.account_doctor_ = (await AccountService.getAllAcountDoctors({\n        payload:payload\n      })).data\n      this.totalRows = this.doctors.length\n    },\n    methods: {\n      validationPasswordChange(){\n        if(!this.passwordchangeValue || !this.passwordchangeValueAgain){\n            this.$toasted.show('Vui Lòng Nhập Đầy Đủ Thông Tin !!!', { \n            theme: \"bubble\",\n            position: \"bottom-right\", \n            duration : 4000\n        });\n        }else if(this.passwordchangeValue !== this.passwordchangeValueAgain){\n          this.$toasted.show(`Mật Khẩu Và Mật Khẩu Xác Nhận Không Giống Nhau !!!<br>Vui Lòng Kiểm Tra Lại !!!`, { \n            theme: \"bubble\", \n            position: \"bottom-right\", \n            duration : 5000\n        });\n        }else if(this.passwordchangeValue.length < 8){\n          this.$toasted.show(`Mật khẩu được cung cấp phải khớp với các quy tắc sau:\\n            <br><br>\\n            1. Nó phải chứa chỉ các ký tự sau: chữ thường, chữ hoa, chữ số.\\n            <br><br>\\n            2. mật khẩu dài ít nhất 8 kí tự và không dài hơn 32 kí tự.\\n            </div>\\n        `, { \n            theme: \"bubble\", \n            position: \"bottom-right\", \n            duration : 4000\n        });\n        }else{\n          this.changepassword();\n          this.closeModal2();\n        }\n      },\n      closeModal2(){\n        this.passwordchangeValue = ''\n        this.passwordchangeValueAgain = ''\n        this.$root.$emit('bv::hide::modal', \"modal-2\", \"button\")\n      },\n      async changepassword(){\n        try {\n            await HospitalService.changePassword({\n              id_account:this.user.id,\n              password_hospital:this.passwordchangeValue\n          })\n        } catch (error) {\n          this.ErrorToasted(error)\n        }\n\n            this.$toasted.show(`Cập Nhập Thành công !!`, { \n              theme: \"bubble\",\n              position: \"bottom-right\", \n              duration : 3000\n          });\n      },\n      async addDoctor(){\n          this.$router.push({\n            path: `/Hospital/${this.user.id}/addDoctor`\n          })\n      },\n      async deleteDoctor(item, index, button){\n        this.currentItem = item\n        this.currentIndex = index\n        this.currentButton = button\n        this.$root.$emit('bv::toggle::modal', 'modal-ask-again', '#btnToggle')\n\n\n        \n      },\n      cancelDelete(){\n        this.$refs['modal-ask-again'].hide()\n        this.currentItem = '';\n        this.currentIndex = '';\n        this.currentButton = '';\n      },\n      async agreeDelete(){\n        const delete_result = (await HospitalService.delete(this.currentItem.id_account)).data      \n          this.$toasted.show(`Đã xóa bác sĩ ${delete_result.lastname} Thành công !!`, { \n            theme: \"bubble\", \n            position: \"bottom-right\", \n            duration : 2000\n        });\n        if (~this.currentIndex)\n          this.doctors.splice(this.currentIndex, 1)\n        this.currentItem = '';\n        this.currentIndex = '';\n        this.currentButton = '';\n        this.$refs['modal-ask-again'].hide()\n\n      },\n      GetFieldsemail(row,key,item){\n        for(var account_doctor__ of this.account_doctor_) {\n            if(account_doctor__.id == item.id_account){\n              return account_doctor__.email\n            }\n        }\n      },\n      changeInfo(item, index, button) {\n          // this.$router.push({\n          //   path: `/Hospital/${this.user.id}/changeInfo`\n          // })\n        this.infoModal.title = `Thay đổi thông tin`\n        this.infoModal.lastname_doctor = item.lastname\n        this.infoModal.firstname_doctor = item.firstname\n        this.infoModal.cmnd_doctor = item.cmnd\n        this.infoModal.sex_doctor = item.sex\n        this.infoModal.phone_doctor = item.phone\n        this.infoModal.address_doctor = item.address\n        this.infoModal.id_account = item.id_account\n        this.infoModal.department = item.department\n        this.infoModal.specialize = item.specialize\n        this.infoModal.birthday = item.month + ' / ' + item.day + ' / ' + item.year \n        this.infoModal.email_doctor = this.GetFieldsemail('row','key',item)\n\n        this.infoModal.password = ''\n        this.$root.$emit('bv::show::modal', this.infoModal.id, button)\n\n      },\n      cancelModify(payload){\n        if(payload == 'firstname'){\n          this.isModifyFirstName = false\n        }\n        else if(payload == 'lastname'){\n          this.isModifyLastName = false\n        }\n        else if(payload == 'phone'){\n          this.isModifyPhone = false\n        }\n        else if(payload == 'address'){\n          this.isModifyAddress = false\n        }\n        else if(payload == 'email'){\n          this.isModifyEmail = false\n        }\n        else if(payload == 'password'){\n          this.isModifyPassword = false\n        }\n        else if(payload == 'department'){\n          this.isModifyDepartment = false\n        }\n        else if(payload == 'specialize'){\n          this.isModifySpecialize = false\n        }\n        else if(payload == 'birthday'){\n          this.isModifyBirthday = false\n        }\n        else if(payload == 'sex'){\n          this.isModifySex = false\n        }\n        else if(payload == 'phone'){\n          this.isModifyPhone = false\n        }\n        else if(payload == 'cmnd'){\n          this.isModifyCmnd = false\n        }\n        else{\n          this.$toasted.show(`Có lỗi xãy ra!!`, { \n            theme: \"bubble\", \n            position: \"bottom-right\", \n            duration : 2000\n        });\n\n        }\n      },\n      async SussessToasted(){\n        this.$toasted.show(`Update Thành công !!`, { \n            theme: \"bubble\",\n            position: \"bottom-right\", \n            duration : 3000\n        });\n      },\n      async ErrorToasted(error){\n        this.$toasted.show(`${error.response.data.error}`, { \n            theme: \"toasted-primary\", \n            position: \"bottom-center\",\n            duration : 5000\n        });\n      },\n      async ValidationToasted(name){\n        this.$toasted.show(`Vui lòng nhập ${name} bạn muốn thay đổi !!`, { \n              theme: \"toasted-primary\", \n              position: \"bottom-center\", \n              duration : 3000\n          });\n      },\n      async ModifyView(nameModifyView ,id_account){\n        if(nameModifyView == 'firstname'){\n          this.infoModal.firstname_doctor = this.firstname_modify\n          this.doctors.filter(x=>x.id_account == id_account)[0].firstname = this.firstname_modify\n        }\n        else if(nameModifyView == 'lastname'){\n          this.infoModal.lastname_doctor = this.lastname_modify\n          this.doctors.filter(x=>x.id_account == id_account)[0].lastname = this.lastname_modify\n        }\n        else if(nameModifyView == 'address'){\n          this.infoModal.address_doctor = this.address_modify\n          this.doctors.filter(x=>x.id_account == id_account)[0].address = this.address_modify\n        }\n        else if(nameModifyView == 'email'){\n          this.infoModal.email_doctor = this.email_modify\n          this.account_doctor_.filter(x=>x.id_account == id_account)[0].email = this.email_modify\n        }\n        else if(nameModifyView == 'department'){\n          this.infoModal.department = this.department_modify\n          this.doctors.filter(x=>x.id_account == id_account)[0].department = this.department_modify\n        }\n        else if(nameModifyView == 'specialize'){\n          this.infoModal.specialize = this.specialize_modify\n          this.doctors.filter(x=>x.id_account == id_account)[0].specialize = this.specialize_modify\n        }\n        else if(nameModifyView == 'cmnd'){\n          this.infoModal.cmnd_doctor = this.cmnd_modify\n          this.doctors.filter(x=>x.id_account == id_account)[0].cmnd = this.cmnd_modify\n        }\n        else if(nameModifyView == 'phone'){\n          this.infoModal.phone_doctor = this.phone_modify\n          this.doctors.filter(x=>x.id_account == id_account)[0].phone = this.phone_modify\n        }\n        else if(nameModifyView == 'sex'){\n          this.infoModal.sex_doctor = this.sex_modify\n          this.doctors.filter(x=>x.id_account == id_account)[0].sex = this.sex_modify\n\n        }\n        else if(nameModifyView == 'birthday'){\n          const date = this.birthday_modify;\n          const yearVariable = date.slice(0, 4)\n          const monthVariable = date.slice(5, 7)\n          const dayVariable = date.slice(8, 10)\n          this.infoModal.birthday = monthVariable +' / '+ dayVariable +' / '+ yearVariable\n\n          this.doctors.filter(x=>x.id_account == id_account)[0].day = dayVariable\n          this.doctors.filter(x=>x.id_account == id_account)[0].month = monthVariable\n          this.doctors.filter(x=>x.id_account == id_account)[0].year = yearVariable\n        }\n        \n      },\n\n\n      async SendRequestModifyInfomation(id_account, nameModify){\n        switch (nameModify) {\n          case 'firstname':\n            if(this.firstname_modify){\n              try {\n                  await HospitalService.updateFirstNameDoctor({\n                    id_account:id_account,\n                    firstname:this.firstname_modify\n                  })\n                  this.SussessToasted();\n                  this.ModifyView('firstname',id_account)\n                  this.isModifyFirstName = false\n                  this.firstname_modify = ''\n              }catch (error) {\n                this.ErrorToasted(error)\n              }\n            }else{\n              this.ValidationToasted('Họ và tên lót')\n            } \n            break;\n\n          case 'lastname':\n            if(this.lastname_modify){\n              try {\n                  await HospitalService.updateLastNameDoctor({\n                    id_account:id_account,\n                    lastname:this.lastname_modify\n                  })\n                  this.SussessToasted();\n                  this.ModifyView('lastname',id_account)\n                  this.isModifyLastName = false\n                  this.lastname_modify = ''\n              }catch (error) {\n                this.ErrorToasted(error)\n              }\n            }else{\n              this.ValidationToasted('Tên')\n            } \n            break;\n\n\n          case 'address':\n            if(this.address_modify){\n              try {\n                  await HospitalService.updateAddressDoctor({\n                    id_account:id_account,\n                    address:this.address_modify\n                  })\n                  this.SussessToasted();\n                  this.ModifyView('address',id_account)\n                  this.isModifyAddress = false\n                  this.address_modify = ''\n              }catch (error) {\n                this.ErrorToasted(error)\n              }\n            }else{\n              this.ValidationToasted('Địa Chỉ')\n            } \n            break;\n\n\n          case 'email':\n            if(this.email_modify){\n              try {\n                  await HospitalService.updateEmailDoctor({\n                    id_account:id_account,\n                    email:this.email_modify\n                  })\n                  this.SussessToasted();\n                  this.ModifyView('email',id_account)\n                  this.isModifyEmail = false\n                  this.email_modify = ''\n              }catch (error) {\n                this.ErrorToasted(error)\n              }\n            }else{\n              this.ValidationToasted('Email')\n            } \n            break;\n\n          case 'password':\n            if(this.password_modify){\n              try {\n                  await HospitalService.updatePasswordDoctor({\n                    id_account:id_account,\n                    password:this.password_modify\n                  })\n                  this.SussessToasted();\n                  this.isModifyPassword = false\n                  this.password_modify = ''\n              }catch (error) {\n                this.ErrorToasted(error)\n              }\n            }else{\n              this.ValidationToasted('Password')\n            } \n            break;\n\n          case 'department':\n            if(this.department_modify){\n              try {\n                  await HospitalService.updateDepartmentDoctor({\n                    id_account:id_account,\n                    department:this.department_modify\n                  })\n                  this.SussessToasted();\n                  this.ModifyView('department',id_account)\n                  this.isModifyDepartment = false\n                  this.department_modify = ''\n              }catch (error) {\n                this.ErrorToasted(error)\n              }\n            }else{\n              this.ValidationToasted('Phòng Ban')\n            } \n            break;\n\n          case 'specialize':\n            if(this.specialize_modify){\n              try {\n                  await HospitalService.updateSpecializeDoctor({\n                    id_account:id_account,\n                    specialize:this.specialize_modify\n                  })\n                  this.SussessToasted();\n                  this.ModifyView('specialize',id_account)\n                  this.isModifySpecialize = false\n                  this.specialize_modify = ''\n              }catch (error) {\n                this.ErrorToasted(error)\n              }\n            }else{\n              this.ValidationToasted('Chuyên môn')\n            } \n            break;\n\n          case 'cmnd':\n            if(this.cmnd_modify){\n              try {\n                  await HospitalService.updateCmndDoctor({\n                    id_account:id_account,\n                    cmnd:this.cmnd_modify\n                  })\n                  this.SussessToasted();\n                  this.ModifyView('cmnd',id_account)\n                  this.isModifyCmnd = false\n                  this.cmnd_modify = ''\n              }catch (error) {\n                this.ErrorToasted(error)\n              }\n            }else{\n              this.ValidationToasted('CMND')\n            } \n            break;\n\n          case 'phone':\n            if(this.phone_modify){\n              try {\n                  await HospitalService.updatePhoneDoctor({\n                    id_account:id_account,\n                    phone:this.phone_modify\n                  })\n                  this.SussessToasted();\n                  this.ModifyView('phone',id_account)\n                  this.isModifyPhone = false\n                  this.phone_modify = ''\n              }catch (error) {\n                this.ErrorToasted(error)\n              }\n            }else{\n              this.ValidationToasted('Số Điện Thoại')\n            } \n            break;\n\n          case 'sex':\n            if(this.sex_modify){\n              try {\n                  await HospitalService.updateSexDoctor({\n                    id_account:id_account,\n                    sex:this.sex_modify\n                  })\n                  this.SussessToasted();\n                  this.ModifyView('sex',id_account)\n                  this.isModifySex = false\n                  this.sex_modify = ''\n              }catch (error) {\n                this.ErrorToasted(error)\n              }\n            }else{\n              this.ValidationToasted('Giới Tính')\n            } \n            break;\n\n          case 'birthday':\n            if(this.birthday_modify){\n              if(!this.validationBirthday(this.birthday_modify)){\n                \n              }else{\n                try {\n                    await HospitalService.updateBirthdayDoctor({\n                      id_account:id_account,\n                      birthday:this.birthday_modify\n                    })\n                    this.SussessToasted();\n                    this.ModifyView('birthday',id_account)\n                    this.isModifyBirthday = false\n                    this.birthday_modify = ''\n                }catch (error) {\n                  this.ErrorToasted(error)\n                }\n              }\n            }else{\n              this.ValidationToasted('Sinh nhật')\n            } \n            break;\n          default:\n            break;\n        }\n\n      },\n      validationBirthday(birthday){\n        const birth = birthday.split('-');\n        const day = birth[2]\n        const month = birth[1]\n        const year = birth[0]\n        if(parseInt(day) > 32 || parseInt(day)<1){\n            this.$toasted.show(`Sai ngày !!`, { \n              theme: \"bubble\",\n              position: \"bottom-right\", \n              duration : 3000\n          });\n          return false;\n        }\n        if(parseInt(month) > 12 || parseInt(month)<1){\n          this.$toasted.show(`Sai tháng !!`, { \n              theme: \"bubble\",\n              position: \"bottom-right\", \n              duration : 3000\n          });\n          return false;\n        }\n        if(parseInt(year) > 2019 || parseInt(year)<1800){\n          this.$toasted.show(`Sai năm !!`, { \n              theme: \"bubble\",\n              position: \"bottom-right\", \n              duration : 3000\n          });\n          return false;\n        }\n        return true\n      },\n\n\n\n      info(item, index, button) {\n        this.infoModal.title = `Row index: ${index}`\n        this.infoModal.content = JSON.stringify(item, null, 2)\n        this.$root.$emit('bv::show::modal', this.infoModal.id, button)\n      },\n      resetInfoModal() {\n        this.infoModal.title = ''\n        this.infoModal.content = ''\n      },\n      onFiltered(filteredItems) {\n        this.totalRows = filteredItems.length\n        this.currentPage = 1\n      },\n    },\n  }\n</script>\n\n<style scoped>\n\n*{\n    font-size: 14px;\n    font-family: \"Roboto\",\"Helvetica\",\"Arial\",sans-serif;\n    color: rgba(0,0,0,.54);\n}\n.bg{\n    background-repeat: no-repeat;\n    background-size:cover\n}\n.model_wrapper{\n  align-items: center;\n  border-bottom: 1px solid rgba(190,195,201);\n  margin-left: 5px;\n  margin-right: 5px;\n  cursor: pointer;\n}\n.model_wrapper:first-child{\n  border-top: 1px solid #aaa;\n}\n.model_wrapper:last-child{\n  border-bottom: 1px solid #aaa;\n}\n.model_wrapper:hover{\n  background: #f5f6f7;\n}\n.orange-btn{\n  background:#FF6F00;\n  color:white;\n}\n.orange-btn:hover{\n  background:#ff4400;\n  color:#ccc;\n}\n\n.model_title{\n  color: #333;\n}\n.main_register{\n    max-width: 95vw;\n    width: 100%;\n    background:white;\n    border-radius: 2px;\n    background: white;\n}\n.p_1r{\n    padding: 1rem;\n}\n.mlr_1-5r{\n    margin: 0 1.5rem;\n}\n.inputStyle{\n  padding: 0.25rem;\n  border:1px solid #aaa;\n  border-radius:4px;\n  width:100%;\n}\n</style>\n"]}]}