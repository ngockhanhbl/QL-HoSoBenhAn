{"remainingRequest":"/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/src/components/content/doctor_modules/DrugManagement.vue?vue&type=style&index=0&id=731f3556&scoped=true&lang=css&","dependencies":[{"path":"/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/src/components/content/doctor_modules/DrugManagement.vue","mtime":1571839503000},{"path":"/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Documents/QL-HoSoBenhAn/medicalproject/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.title_editor{\n  font-weight: bold;\n  color:tomato;\n}\n.style_input{\n  border: 1px solid rgba(0,0,0,.54);\n  border-radius: 2px;\n  padding:0.25rem;\n}\n.width-100{\n  width: 100%;\n}\n.SendRequestCreateDrug img{\n    height:1rem;\n    width:1rem;\n}\n",{"version":3,"sources":["DrugManagement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DrugManagement.vue","sourceRoot":"src/components/content/doctor_modules","sourcesContent":["<template>\n    <div class=\"pt-5\">\n          <b-button variant=\"outline-primary\" v-b-modal.modal-add>Thêm Thuốc</b-button>\n           <b-modal id=\"modal-add\" size='lg' ref=\"modal-add\" title=\"Thêm Thuốc\">\n          <div>\n            <div class=\"my-2 d-flex\">\n                <p class=\"col-sm-4 title_editor\">Tên Thuốc</p>\n                <span class=\"col-sm-8\">\n                    <input type=\"text\" list=\"LoadListDrug\" v-model=\"infoModal.tenThuoc\" class=\"width-100 style_input\">\n                    <datalist id=\"LoadListDrug\">\n                        <option v-for=\"(drug,index) in tenThuocSystem\" :key=\"index\">{{drug}}</option>\n                    </datalist>\n                </span>\n\n            </div> \n\n            <div class=\"my-2 d-flex\">\n                <p class=\"col-sm-4 title_editor\">Hoạt Chất</p>\n                <span class=\"col-sm-8\"><input list=\"ListHoatChat\"  type=\"text\" v-model=\"infoModal.hoatChat\" class=\"width-100 style_input\"></span>\n                <datalist id=\"ListHoatChat\">\n                    <option v-for=\"(drug,index) in hoatChatSystem\" :key=\"index\">{{drug}}</option>\n                </datalist>\n            </div>\n\n            <div class=\"my-2 d-flex\">\n                <p class=\"col-sm-4 title_editor\">Nồng Độ/Hàm Lượng</p>\n                <span class=\"col-sm-8\">\n                    <input type=\"text\" list=\"ListNongDo\" v-model=\"infoModal.nongDo\" class=\"width-100 style_input\">\n                    <datalist id=\"ListNongDo\">\n                        <option v-for=\"(drug,index) in nongDoSystem\" :key=\"index\">{{drug}}</option>\n                    </datalist>\n                </span>\n            </div>\n\n            <div class=\"my-2 d-flex\">\n                <p class=\"col-sm-4 title_editor\">Dạng Bào Chế</p>\n                <span class=\"col-sm-8\">\n                    <input type=\"text\" list=\"ListBaoChe\" v-model=\"infoModal.baoChe\" class=\"width-100 style_input\">\n                    <datalist id=\"ListBaoChe\">\n                        <option v-for=\"(drug,index) in baoCheSystem\" :key=\"index\">{{drug}}</option>\n                    </datalist>\n                </span>\n            </div>\n\n                <div class=\"my-2 d-flex\">\n                <p class=\"col-sm-4 title_editor\">Hạn Sử Dụng</p>\n                <span class=\"col-sm-8\">\n                    <input type=\"text\" list=\"ListTuoiTho\" v-model=\"infoModal.tuoiTho\" class=\"width-100 style_input\">\n                    <datalist id=\"ListTuoiTho\">\n                        <option v-for=\"(drug,index) in tuoiThoSystem\" :key=\"index\">{{drug}}</option>\n                    </datalist>\n                </span>\n            </div>\n          </div>\n        <template v-slot:modal-footer>\n            <div class=\"w-100\">\n            <b-button\n                variant=\"secondary\"\n                size=\"sm\"\n                class=\"float-left text-white\"\n                @click=\"resetModal\"\n            >\n                Đóng\n            </b-button>\n            <b-button\n                variant=\"warning\"\n                size=\"sm\"\n                class=\"float-right SendRequestCreateDrug text-white\"\n                @click=\"SendRequestCreateDrug\"\n            >\n                <img src=\"@/assets/images/send.svg\" /> Gửi Yêu Cầu Tạo Tin\n            </b-button>\n            </div>\n        </template>\n      </b-modal>\n    </div>\n    \n</template>\n\n<script>\nimport HospitalService from '@/services/HospitalService'\nimport axios from 'axios';\nexport default {\n    data(){\n        return{\n            listSystem:'',\n            tenThuocSystem:'',\n            hoatChatSystem:'',\n            nongDoSystem:'',\n            baoCheSystem:'',\n            tuoiThoSystem:'',\n            selected:'',\n            infoModal: {\n                tenThuoc: '',\n                hoatChat: '',\n                baoChe:'',\n                nongDo:'',\n                tuoiTho:'',\n            },\n            user:''\n        }\n    },\n    created(){\n        this.fetchdata();\n        const user = localStorage.getItem(\"user\")\n        this.user = user;\n        const userJSON = JSON.parse(user)\n        const roles = userJSON.roles\n        // this.account_hospital_register = (await AccountService.getAllRegisterAcountHospitals(roles)).data\n        // this.totalRows = this.hospitals_register.length\n    },\n    methods:{\n        checkform(){\n            if(!infoModal.tenThuoc && !infoModal.hoatChat && !infoModal.baoChe && !infoModal.nongDo && !infoModal.tuoiTho ){\n                this.$toasted.show('Vui Lòng Nhập Đầy Đủ Thông Tin !!!', { \n                    theme: \"toasted-primary\",\n                    position: \"bottom-center\", \n                    duration : 4000\n                });\n            }else{\n                this.SendRequestCreateDrug()\n            }\n        },\n        async SendRequestCreateDrug(){\n            try {\n                await HospitalService.SendRequestCreateDrugbank({\n                    id_hospital: this.user.id,\n                    tenThuoc: infoModal.tenThuoc,\n                    hoatChat: infoModal.hoatChat,\n                    baoChe:infoModal.baoChe,\n                    nongDo:infoModal.nongDo,\n                    tuoiTho:infoModal.tuoiTho,\n            })\n            }catch (error) {\n                    this.$toasted.show(`${error.response.data.error}`, { \n                        theme: \"toasted-primary\",\n                        position: \"bottom-center\", \n                        duration : 4000\n                });\n            }\n        },\n        resetModal(){\n            this.$refs['modal-add'].hide();\n            this.infoModal = '';\n        },\n        async fetchdata(){\n            await axios\n                .get('https://www.drugbank.vn/services/drugbank/api/public/thuoc?page=1&size=2000&fbclid=IwAR1vamwLTdSmIx8idqXMjg77a18AZ4nZYROoLE8dTTAR0sS4EUlvt7W3lMQ')\n                .then(response => (this.listSystem = response.data.filter(x=>x).map(x=>x)));\n            this.tenThuocSystem = [...new Set(this.listSystem.map(x=>x.tenThuoc))]\n            this.hoatChatSystem = [...new Set(this.listSystem.map(x=>x.hoatChat))] \n            this.nongDoSystem = [...new Set(this.listSystem.map(x=>x.nongDo))]\n            this.baoCheSystem = [...new Set(this.listSystem.map(x=>x.baoChe))] \n            this.tuoiThoSystem =[...new Set(this.listSystem.map(x=>x.tuoiTho))] \n        }\n    }\n    \n}\n\n</script>\n\n<style scoped>\n.title_editor{\n  font-weight: bold;\n  color:tomato;\n}\n.style_input{\n  border: 1px solid rgba(0,0,0,.54);\n  border-radius: 2px;\n  padding:0.25rem;\n}\n.width-100{\n  width: 100%;\n}\n.SendRequestCreateDrug img{\n    height:1rem;\n    width:1rem;\n}\n</style>\n"]}]}